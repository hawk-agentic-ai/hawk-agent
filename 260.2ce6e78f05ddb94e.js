"use strict";(self.webpackChunkhedge_accounting_sfx=self.webpackChunkhedge_accounting_sfx||[]).push([[260],{260:(I,p,s)=>{s.r(p),s.d(p,{OverlayComponent:()=>T});var u=s(177),c=s(1141),m=s(2242),y=s(8833),g=s(1570),r=s(4341),C=s(8542),e=s(4438),h=s(1880);const w=["input"],D=(o,d,a)=>({"p-inputswitch p-component":!0,"p-inputswitch-checked":o,"p-disabled":d,"p-focus":a}),O={provide:r.kq,useExisting:(0,e.Rfq)(()=>f),multi:!0};let f=(()=>{class o{cd;style;styleClass;tabindex;inputId;name;disabled;readonly;trueValue=!0;falseValue=!1;ariaLabel;ariaLabelledBy;autofocus;onChange=new e.bkB;input;modelValue=!1;focused=!1;onModelChange=()=>{};onModelTouched=()=>{};constructor(a){this.cd=a}onClick(a){!this.disabled&&!this.readonly&&(this.modelValue=this.checked()?this.falseValue:this.trueValue,this.onModelChange(this.modelValue),this.onChange.emit({originalEvent:a,checked:this.modelValue}),this.input.nativeElement.focus())}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}writeValue(a){this.modelValue=a,this.cd.markForCheck()}registerOnChange(a){this.onModelChange=a}registerOnTouched(a){this.onModelTouched=a}setDisabledState(a){this.disabled=a,this.cd.markForCheck()}checked(){return this.modelValue===this.trueValue}static \u0275fac=function(l){return new(l||o)(e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:o,selectors:[["p-inputSwitch"]],viewQuery:function(l,t){if(1&l&&e.GBs(w,5),2&l){let i;e.mGM(i=e.lsd())&&(t.input=i.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",tabindex:[2,"tabindex","tabindex",e.Udg],inputId:"inputId",name:"name",disabled:[2,"disabled","disabled",e.L39],readonly:[2,"readonly","readonly",e.L39],trueValue:"trueValue",falseValue:"falseValue",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",autofocus:[2,"autofocus","autofocus",e.L39]},outputs:{onChange:"onChange"},features:[e.Jv_([O]),e.GFd],decls:5,vars:23,consts:[["input",""],[3,"click","ngClass","ngStyle"],[1,"p-hidden-accessible"],["type","checkbox","role","switch","pAutoFocus","",3,"focus","blur","checked","disabled","autofocus"],[1,"p-inputswitch-slider"]],template:function(l,t){if(1&l){const i=e.RV6();e.j41(0,"div",1),e.bIt("click",function(S){return e.eBV(i),e.Njj(t.onClick(S))}),e.j41(1,"div",2)(2,"input",3,0),e.bIt("focus",function(){return e.eBV(i),e.Njj(t.onFocus())})("blur",function(){return e.eBV(i),e.Njj(t.onBlur())}),e.k0s()(),e.nrm(4,"span",4),e.k0s()}2&l&&(e.HbH(t.styleClass),e.Y8G("ngClass",e.sMw(19,D,t.checked(),t.disabled,t.focused))("ngStyle",t.style),e.BMQ("data-pc-name","inputswitch")("data-pc-section","root"),e.R7$(),e.BMQ("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),e.R7$(),e.Y8G("checked",t.checked())("disabled",t.disabled)("autofocus",t.autofocus),e.BMQ("id",t.inputId)("aria-checked",t.checked())("aria-labelledby",t.ariaLabelledBy)("aria-label",t.ariaLabel)("name",t.name)("tabindex",t.tabindex)("data-pc-section","hiddenInput"),e.R7$(2),e.BMQ("data-pc-section","slider"))},dependencies:[u.YU,u.B3,h.q],styles:['@layer primeng{.p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;inset:0;border:1px solid transparent}.p-inputswitch-slider:before{position:absolute;content:"";top:50%}}\n'],encapsulation:2,changeDetection:0})}return o})(),k=(()=>{class o{static \u0275fac=function(l){return new(l||o)};static \u0275mod=e.$C({type:o});static \u0275inj=e.G2t({imports:[u.MD,h.u]})}return o})();var v=s(1667),_=s(9641),A=s(5779);const M=()=>({width:"100vw",height:"95vh","max-width":"100vw","max-height":"95vh","border-top-left-radius":"16px","border-top-right-radius":"16px"}),b=()=>({width:"100%"});function j(o,d){if(1&o&&(e.j41(0,"option",37),e.EFF(1),e.k0s()),2&o){const a=d.$implicit;e.Y8G("value",a.value),e.R7$(),e.JRh(a.label)}}function F(o,d){if(1&o&&(e.j41(0,"option",37),e.EFF(1),e.k0s()),2&o){const a=d.$implicit;e.Y8G("value",a.value),e.R7$(),e.JRh(a.label)}}function R(o,d){if(1&o){const a=e.RV6();e.j41(0,"div",38)(1,"p-button",39),e.bIt("onClick",function(){e.eBV(a);const t=e.XpG();return e.Njj(t.showAddDialog=!1)}),e.k0s(),e.j41(2,"p-button",40),e.bIt("onClick",function(){e.eBV(a);const t=e.XpG();return e.Njj(t.saveOverlay())}),e.k0s()()}}let T=(()=>{class o{constructor(){this.overlays=[],this.showAddDialog=!1,this.searchTerm="",this.selectedStatus=null,this.selectedType=null,this.columnDefs=[{field:"id",headerName:"ID",width:110,sortable:!0},{field:"name",headerName:"Name",flex:1,sortable:!0},{field:"type",headerName:"Type",width:200,sortable:!0},{field:"effectiveDate",headerName:"Effective Date",width:140,valueFormatter:a=>this.formatDate(a.value)},{field:"expiryDate",headerName:"Expiry Date",width:140,valueFormatter:a=>this.formatDate(a.value)},{field:"isAutoApplied",headerName:"Auto Applied",width:130,cellRenderer:a=>{const l=document.createElement("i");return l.className=a.value?"pi pi-check-circle text-green-500":"pi pi-times-circle text-gray-400",l}},{field:"status",headerName:"Status",width:130,cellRenderer:a=>{const l=a.value||"",t="Active"===l?"bg-green-100 text-green-800":"Inactive"===l?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800",i=document.createElement("span");return i.className=`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t}`,i.textContent=l,i}},{headerName:"Actions",width:120,pinned:"right",cellRenderer:a=>{const l=document.createElement("div");l.className="flex gap-2";const t=document.createElement("button");t.className="text-gray-500 hover:text-blue-600 p-1",t.title="Edit overlay",t.innerHTML='<i class="pi pi-pencil"></i>',t.addEventListener("click",()=>a.context.componentParent.editOverlay(a.data));const i=document.createElement("button");return i.className="text-gray-500 hover:text-red-600 p-1",i.title="Delete overlay",i.innerHTML='<i class="pi pi-trash"></i>',i.addEventListener("click",()=>a.context.componentParent.deleteOverlay(a.data)),l.appendChild(t),l.appendChild(i),l}}],this.defaultColDef={resizable:!0,sortable:!0,filter:"agSetColumnFilter",minWidth:100},this.gridOptions={pagination:!0,paginationPageSize:10,animateRows:!0,context:{componentParent:this}},this.newOverlay={id:"",name:"",description:"",type:"",effectiveDate:new Date,expiryDate:null,isAutoApplied:!1,status:"Active"},this.overlayTypes=[{label:"FX Rate Adjustment",value:"FX Rate Adjustment"},{label:"Market Value Adjustment",value:"Market Value Adjustment"},{label:"Volatility Adjustment",value:"Volatility Adjustment"},{label:"Credit Risk Adjustment",value:"Credit Risk Adjustment"}],this.statusOptions=[{label:"Active",value:"Active"},{label:"Inactive",value:"Inactive"},{label:"Pending Approval",value:"Pending Approval"}]}onGridReady(a){a.api.sizeColumnsToFit()}ngOnInit(){this.loadOverlays()}loadOverlays(){this.overlays=[{id:"OVL001",name:"FX Rate Smoothing Overlay",description:"Adjusts FX rate volatility for emerging markets",type:"FX Rate Adjustment",effectiveDate:new Date("2024-10-15"),expiryDate:new Date("2025-10-15"),isAutoApplied:!0,status:"Active"},{id:"OVL002",name:"Market Stress Adjustment",description:"Applies market stress factor during high volatility periods",type:"Market Value Adjustment",effectiveDate:new Date("2024-11-01"),expiryDate:null,isAutoApplied:!1,status:"Active"},{id:"OVL003",name:"Liquidity Risk Overlay",description:"Adjusts for liquidity risk in thinly traded markets",type:"Volatility Adjustment",effectiveDate:new Date("2024-09-20"),expiryDate:new Date("2025-03-20"),isAutoApplied:!0,status:"Active"},{id:"OVL004",name:"Credit Spread Adjustment",description:"Adjusts for counterparty credit risk",type:"Credit Risk Adjustment",effectiveDate:new Date("2024-12-01"),expiryDate:null,isAutoApplied:!0,status:"Pending Approval"},{id:"OVL005",name:"Legacy Market Adjustment",description:"Historical market adjustment factor",type:"Market Value Adjustment",effectiveDate:new Date("2023-06-15"),expiryDate:new Date("2024-06-15"),isAutoApplied:!1,status:"Inactive"}]}saveOverlay(){if(this.newOverlay.name&&this.newOverlay.type){const a={...this.newOverlay,id:`OVL${(this.overlays.length+1).toString().padStart(3,"0")}`};this.overlays.push(a),this.resetNewOverlay(),this.showAddDialog=!1}}editOverlay(a){console.log("Edit overlay:",a)}deleteOverlay(a){this.overlays=this.overlays.filter(l=>l.id!==a.id)}resetNewOverlay(){this.newOverlay={id:"",name:"",description:"",type:"",effectiveDate:new Date,expiryDate:null,isAutoApplied:!1,status:"Active"}}formatDate(a){return a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"No Expiry"}static{this.\u0275fac=function(l){return new(l||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-overlay"]],standalone:!0,features:[e.aNF],decls:64,vars:34,consts:[[1,"p-6"],[1,"mb-6"],[1,"text-xl","font-semibold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"filter-bar"],[1,"filter-row","w-full"],[1,"flex","items-center","space-x-2"],[1,"filter-label"],["type","text","placeholder","Search overlays...",1,"filter-input","w-64",3,"ngModelChange","ngModel"],[1,"filter-input","w-48",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],[1,"filter-input","w-40",3,"ngModelChange","ngModel"],[1,"ml-auto"],[1,"btn","btn-primary",3,"click"],[1,"pi","pi-plus"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200"],[1,"ag-theme-alpine","w-full",2,"height","520px",3,"gridReady","columnDefs","rowData","defaultColDef","gridOptions"],["header","Add Overlay","styleClass","entity-dialog entity-dialog-full",3,"visibleChange","visible","modal","closable"],[1,"grid","grid-cols-1","gap-4","p-4"],[1,"field"],["for","overlayName",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","overlayName","type","text","pInputText","","placeholder","Enter overlay name",1,"filter-input","w-full",3,"ngModelChange","ngModel"],["for","overlayDescription",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","overlayDescription","type","text","pInputText","","placeholder","Enter overlay description",1,"filter-input","w-full",3,"ngModelChange","ngModel"],["for","overlayType",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","overlayType","placeholder","Select overlay type","styleClass","filter-input w-full",3,"ngModelChange","options","ngModel"],["for","effectiveDate",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","effectiveDate","dateFormat","yy-mm-dd","placeholder","Select effective date",1,"w-full",3,"ngModelChange","ngModel","showIcon"],["for","expiryDate",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","expiryDate","dateFormat","yy-mm-dd","placeholder","Select expiry date (optional)",1,"w-full",3,"ngModelChange","ngModel","showIcon"],[1,"field","flex","items-center"],["for","isAutoApplied",1,"block","text-sm","font-medium","text-gray-700","mr-4"],["id","isAutoApplied",3,"ngModelChange","ngModel"],["for","overlayStatus",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","overlayStatus","placeholder","Select status","styleClass","filter-input w-full",3,"ngModelChange","options","ngModel"],["pTemplate","footer"],[3,"value"],[1,"flex","justify-end","gap-2"],["label","Cancel","icon","pi pi-times","styleClass","btn btn-secondary",3,"onClick"],["label","Save","icon","pi pi-check","styleClass","btn btn-primary",3,"onClick"]],template:function(l,t){1&l&&(e.j41(0,"div",0)(1,"div",1)(2,"h2",2),e.EFF(3,"Overlay Configuration"),e.k0s(),e.j41(4,"p",3),e.EFF(5,"Manage and configure accounting overlay adjustments"),e.k0s()(),e.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e.EFF(10,"Search:"),e.k0s(),e.j41(11,"input",8),e.mxI("ngModelChange",function(n){return e.DH7(t.searchTerm,n)||(t.searchTerm=n),n}),e.k0s()(),e.j41(12,"div",6)(13,"label",7),e.EFF(14,"Overlay Type:"),e.k0s(),e.j41(15,"select",9),e.mxI("ngModelChange",function(n){return e.DH7(t.selectedType,n)||(t.selectedType=n),n}),e.j41(16,"option",10),e.EFF(17,"All"),e.k0s(),e.DNE(18,j,2,2,"option",11),e.k0s()(),e.j41(19,"div",6)(20,"label",7),e.EFF(21,"Status:"),e.k0s(),e.j41(22,"select",12),e.mxI("ngModelChange",function(n){return e.DH7(t.selectedStatus,n)||(t.selectedStatus=n),n}),e.j41(23,"option",10),e.EFF(24,"All"),e.k0s(),e.DNE(25,F,2,2,"option",11),e.k0s()(),e.j41(26,"div",13)(27,"button",14),e.bIt("click",function(){return t.showAddDialog=!0}),e.nrm(28,"i",15),e.j41(29,"span"),e.EFF(30,"Add Overlay"),e.k0s()()()()(),e.j41(31,"div",16)(32,"ag-grid-angular",17),e.bIt("gridReady",function(n){return t.onGridReady(n)}),e.k0s()(),e.j41(33,"p-dialog",18),e.mxI("visibleChange",function(n){return e.DH7(t.showAddDialog,n)||(t.showAddDialog=n),n}),e.j41(34,"div",19)(35,"div",20)(36,"label",21),e.EFF(37,"Overlay Name"),e.k0s(),e.j41(38,"input",22),e.mxI("ngModelChange",function(n){return e.DH7(t.newOverlay.name,n)||(t.newOverlay.name=n),n}),e.k0s()(),e.j41(39,"div",20)(40,"label",23),e.EFF(41,"Description"),e.k0s(),e.j41(42,"input",24),e.mxI("ngModelChange",function(n){return e.DH7(t.newOverlay.description,n)||(t.newOverlay.description=n),n}),e.k0s()(),e.j41(43,"div",20)(44,"label",25),e.EFF(45,"Overlay Type"),e.k0s(),e.j41(46,"p-dropdown",26),e.mxI("ngModelChange",function(n){return e.DH7(t.newOverlay.type,n)||(t.newOverlay.type=n),n}),e.k0s()(),e.j41(47,"div",20)(48,"label",27),e.EFF(49,"Effective Date"),e.k0s(),e.j41(50,"p-calendar",28),e.mxI("ngModelChange",function(n){return e.DH7(t.newOverlay.effectiveDate,n)||(t.newOverlay.effectiveDate=n),n}),e.k0s()(),e.j41(51,"div",20)(52,"label",29),e.EFF(53,"Expiry Date"),e.k0s(),e.j41(54,"p-calendar",30),e.mxI("ngModelChange",function(n){return e.DH7(t.newOverlay.expiryDate,n)||(t.newOverlay.expiryDate=n),n}),e.k0s()(),e.j41(55,"div",31)(56,"label",32),e.EFF(57,"Auto Applied"),e.k0s(),e.j41(58,"p-inputSwitch",33),e.mxI("ngModelChange",function(n){return e.DH7(t.newOverlay.isAutoApplied,n)||(t.newOverlay.isAutoApplied=n),n}),e.k0s()(),e.j41(59,"div",20)(60,"label",34),e.EFF(61,"Status"),e.k0s(),e.j41(62,"p-dropdown",35),e.mxI("ngModelChange",function(n){return e.DH7(t.newOverlay.status,n)||(t.newOverlay.status=n),n}),e.k0s()()(),e.DNE(63,R,3,0,"ng-template",36),e.k0s()()),2&l&&(e.R7$(11),e.R50("ngModel",t.searchTerm),e.R7$(4),e.R50("ngModel",t.selectedType),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",t.overlayTypes),e.R7$(4),e.R50("ngModel",t.selectedStatus),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",t.statusOptions),e.R7$(7),e.Y8G("columnDefs",t.columnDefs)("rowData",t.overlays)("defaultColDef",t.defaultColDef)("gridOptions",t.gridOptions),e.R7$(),e.Aen(e.lJ4(31,M)),e.R50("visible",t.showAddDialog),e.Y8G("modal",!0)("closable",!0),e.R7$(5),e.R50("ngModel",t.newOverlay.name),e.R7$(4),e.R50("ngModel",t.newOverlay.description),e.R7$(4),e.Aen(e.lJ4(32,b)),e.Y8G("options",t.overlayTypes),e.R50("ngModel",t.newOverlay.type),e.R7$(4),e.R50("ngModel",t.newOverlay.effectiveDate),e.Y8G("showIcon",!0),e.R7$(4),e.R50("ngModel",t.newOverlay.expiryDate),e.Y8G("showIcon",!0),e.R7$(4),e.R50("ngModel",t.newOverlay.isAutoApplied),e.R7$(4),e.Aen(e.lJ4(33,b)),e.Y8G("options",t.statusOptions),e.R50("ngModel",t.newOverlay.status))},dependencies:[u.MD,u.Sq,c.tm,c.$n,A.Ei,_.xs,m.u,m.S,y.kr,y.ms,g.P,g.l,r.YN,r.xH,r.y7,r.me,r.wz,r.BC,r.vS,C.S,k,f,v.rO,v.Vv]})}}return o})()}}]);
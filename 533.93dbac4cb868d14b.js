"use strict";(self.webpackChunkhedge_accounting_sfx=self.webpackChunkhedge_accounting_sfx||[]).push([[533],{533:(E,_,r)=>{r.r(_),r.d(_,{HedgeInstructionsComponent:()=>I});var a=r(467),m=r(177),l=r(4341),F=r(9641),p=r(1570),C=r(1141),e=r(4438),u=r(7129);let v=(()=>{class d{constructor(){this.table="hedge_instructions"}list(o){var s=this;return(0,a.A)(function*(){try{let i=(0,u.b)().from(s.table).select("*").order("created_date",{ascending:!1}).limit(1e3);if(o?.search?.trim()){const g=o.search.trim();i=i.or(`instruction_id.ilike.%${g}%,msg_uid.ilike.%${g}%,instruction_status.ilike.%${g}%,portfolio_code.ilike.%${g}%`)}o?.status&&(i=i.eq("instruction_status",o.status)),o?.portfolio&&(i=i.eq("portfolio_code",o.portfolio)),o?.fromDate&&(i=i.gte("instruction_date",o.fromDate)),o?.toDate&&(i=i.lte("instruction_date",o.toDate));const{data:n,error:c}=yield i;if(c)throw c;return n||[]}catch(t){return console.error("Failed to load hedge_instructions",t),[]}})()}subscribeRealtime(o){try{const s=(0,u.b)();this.channel=s.channel("hedge_instructions_changes").on("postgres_changes",{event:"*",schema:"public",table:this.table},()=>o()).subscribe()}catch(s){console.warn("Realtime subscription unavailable for hedge_instructions",s)}}add(o){var s=this;return(0,a.A)(function*(){const t=(0,u.b)(),{error:i}=yield t.from(s.table).insert([o]);if(i)throw i})()}updateById(o,s){var t=this;return(0,a.A)(function*(){const i=(0,u.b)(),{error:n}=yield i.from(t.table).update(s).eq("instruction_id",o);if(n)throw n})()}deleteById(o){var s=this;return(0,a.A)(function*(){const t=(0,u.b)(),{error:i}=yield t.from(s.table).delete().eq("instruction_id",o);if(i)throw i})()}static{this.\u0275fac=function(s){return new(s||d)}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();var k=r(5779);const f=()=>({width:"100vw",height:"95vh","max-width":"100vw","max-height":"95vh","border-top-left-radius":"16px","border-top-right-radius":"16px"});function M(d,h){if(1&d&&(e.j41(0,"div",60)(1,"div",22)(2,"div",23)(3,"div",61)(4,"div",25),e.EFF(5,"Identifiers"),e.k0s()(),e.j41(6,"div",62)(7,"div")(8,"div",63),e.EFF(9,"Instruction ID"),e.k0s(),e.j41(10,"div",64),e.EFF(11),e.k0s()(),e.j41(12,"div")(13,"div",63),e.EFF(14,"Message UID"),e.k0s(),e.j41(15,"div",65),e.EFF(16),e.k0s()(),e.j41(17,"div")(18,"div",63),e.EFF(19,"Request ID"),e.k0s(),e.j41(20,"div",65),e.EFF(21),e.k0s()(),e.j41(22,"div")(23,"div",63),e.EFF(24,"Order ID"),e.k0s(),e.j41(25,"div",65),e.EFF(26),e.k0s()(),e.j41(27,"div")(28,"div",63),e.EFF(29,"Sub Order ID"),e.k0s(),e.j41(30,"div",65),e.EFF(31),e.k0s()(),e.j41(32,"div")(33,"div",63),e.EFF(34,"Previous Order ID"),e.k0s(),e.j41(35,"div",65),e.EFF(36),e.k0s()()()()(),e.j41(37,"div",22)(38,"div",23)(39,"div",61)(40,"div",25),e.EFF(41,"Status & Timestamps"),e.k0s()(),e.j41(42,"div",62)(43,"div")(44,"div",63),e.EFF(45,"Instruction Status"),e.k0s(),e.j41(46,"div",64),e.EFF(47),e.k0s()(),e.j41(48,"div")(49,"div",63),e.EFF(50,"Check Status"),e.k0s(),e.j41(51,"div",64),e.EFF(52),e.k0s()(),e.j41(53,"div")(54,"div",63),e.EFF(55,"Ack Status"),e.k0s(),e.j41(56,"div",64),e.EFF(57),e.k0s()(),e.j41(58,"div")(59,"div",63),e.EFF(60,"USD PB Check"),e.k0s(),e.j41(61,"div",64),e.EFF(62),e.k0s()(),e.j41(63,"div")(64,"div",63),e.EFF(65,"Instruction Date"),e.k0s(),e.j41(66,"div",64),e.EFF(67),e.k0s()(),e.j41(68,"div")(69,"div",63),e.EFF(70,"Value Date"),e.k0s(),e.j41(71,"div",64),e.EFF(72),e.k0s()(),e.j41(73,"div")(74,"div",63),e.EFF(75,"Received"),e.k0s(),e.j41(76,"div",64),e.EFF(77),e.k0s()(),e.j41(78,"div")(79,"div",63),e.EFF(80,"Processed"),e.k0s(),e.j41(81,"div",64),e.EFF(82),e.k0s()(),e.j41(83,"div")(84,"div",63),e.EFF(85,"Response"),e.k0s(),e.j41(86,"div",64),e.EFF(87),e.k0s()()()()(),e.j41(88,"div",22)(89,"div",23)(90,"div",61)(91,"div",25),e.EFF(92,"Amounts & Snapshot"),e.k0s()(),e.j41(93,"div",62)(94,"div")(95,"div",63),e.EFF(96,"Hedge Amount Order"),e.k0s(),e.j41(97,"div",64),e.EFF(98),e.k0s()(),e.j41(99,"div")(100,"div",63),e.EFF(101,"Allocated Notional"),e.k0s(),e.j41(102,"div",64),e.EFF(103),e.k0s()(),e.j41(104,"div")(105,"div",63),e.EFF(106,"Not Allocated Notional"),e.k0s(),e.j41(107,"div",64),e.EFF(108),e.k0s()(),e.j41(109,"div")(110,"div",63),e.EFF(111,"Response Notional"),e.k0s(),e.j41(112,"div",64),e.EFF(113),e.k0s()(),e.j41(114,"div")(115,"div",63),e.EFF(116,"Buffer % Snapshot"),e.k0s(),e.j41(117,"div",64),e.EFF(118),e.k0s()(),e.j41(119,"div")(120,"div",63),e.EFF(121,"Hedge State Snapshot"),e.k0s(),e.j41(122,"div",64),e.EFF(123),e.k0s()(),e.j41(124,"div")(125,"div",63),e.EFF(126,"CAR Exemption"),e.k0s(),e.j41(127,"div",64),e.EFF(128),e.k0s()()()()(),e.j41(129,"div",22)(130,"div",23)(131,"div",61)(132,"div",25),e.EFF(133,"Meta"),e.k0s()(),e.j41(134,"div",62)(135,"div")(136,"div",63),e.EFF(137,"Instruction Type"),e.k0s(),e.j41(138,"div",64),e.EFF(139),e.k0s()(),e.j41(140,"div")(141,"div",63),e.EFF(142,"Exposure Currency"),e.k0s(),e.j41(143,"div",64),e.EFF(144),e.k0s()(),e.j41(145,"div")(146,"div",63),e.EFF(147,"Portfolio"),e.k0s(),e.j41(148,"div",64),e.EFF(149),e.k0s()(),e.j41(150,"div")(151,"div",63),e.EFF(152,"Framework ID Snapshot"),e.k0s(),e.j41(153,"div",64),e.EFF(154),e.k0s()(),e.j41(155,"div",66)(156,"div",63),e.EFF(157,"Hedge Method"),e.k0s(),e.j41(158,"div",64),e.EFF(159),e.k0s()(),e.j41(160,"div",66)(161,"div",63),e.EFF(162,"Hedging Instrument Hint"),e.k0s(),e.j41(163,"div",64),e.EFF(164),e.k0s()(),e.j41(165,"div",66)(166,"div",63),e.EFF(167,"Tenor / Maturity"),e.k0s(),e.j41(168,"div",64),e.EFF(169),e.k0s()()()()(),e.j41(170,"div",22)(171,"div",23)(172,"div",61)(173,"div",25),e.EFF(174,"Large Text"),e.k0s()(),e.j41(175,"div",67)(176,"div")(177,"div",63),e.EFF(178,"Failure Reason"),e.k0s(),e.j41(179,"div",68),e.EFF(180),e.k0s()(),e.j41(181,"div")(182,"div",63),e.EFF(183,"Instruction Fingerprint"),e.k0s(),e.j41(184,"div",68),e.EFF(185),e.k0s()(),e.j41(186,"div")(187,"div",63),e.EFF(188,"Result"),e.k0s(),e.j41(189,"div",68),e.EFF(190),e.k0s()()()()()()),2&d){const o=e.XpG();e.R7$(11),e.JRh(o.selected.instruction_id),e.R7$(5),e.JRh(o.selected.msg_uid),e.R7$(5),e.JRh(o.selected.request_id),e.R7$(5),e.JRh(o.selected.order_id),e.R7$(5),e.JRh(o.selected.sub_order_id),e.R7$(5),e.JRh(o.selected.previous_order_id),e.R7$(11),e.JRh(o.selected.instruction_status),e.R7$(5),e.JRh(o.selected.check_status),e.R7$(5),e.JRh(o.selected.acknowledgement_status),e.R7$(5),e.JRh(o.selected.usd_pb_check_status),e.R7$(5),e.JRh(o.selected.instruction_date),e.R7$(5),e.JRh(o.selected.value_date),e.R7$(5),e.JRh(o.selected.received_timestamp),e.R7$(5),e.JRh(o.selected.processed_timestamp),e.R7$(5),e.JRh(o.selected.response_timestamp),e.R7$(11),e.JRh(o.selected.hedge_amount_order),e.R7$(5),e.JRh(o.selected.allocated_notional),e.R7$(5),e.JRh(o.selected.not_allocated_notional),e.R7$(5),e.JRh(o.selected.response_notional),e.R7$(5),e.JRh(o.selected.buffer_pct_snapshot),e.R7$(5),e.JRh(o.selected.hedging_state_snapshot),e.R7$(5),e.JRh(o.selected.car_exemption_snapshot),e.R7$(11),e.JRh(o.selected.instruction_type),e.R7$(5),e.JRh(o.selected.exposure_currency),e.R7$(5),e.JRh(o.selected.portfolio_code),e.R7$(5),e.JRh(o.selected.framework_id_snapshot),e.R7$(5),e.JRh(o.selected.hedge_method),e.R7$(5),e.JRh(o.selected.hedging_instrument_hint),e.R7$(5),e.JRh(o.selected.tenor_or_maturity),e.R7$(11),e.JRh(o.selected.failure_reason),e.R7$(5),e.JRh(o.selected.instruction_fingerprint),e.R7$(5),e.JRh(o.selected.result)}}function R(d,h){if(1&d){const o=e.RV6();e.j41(0,"div",69)(1,"button",70),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.showDialog=!1)}),e.EFF(2,"Close"),e.k0s()()}}function j(d,h){if(1&d){const o=e.RV6();e.j41(0,"div",69)(1,"button",70),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.showEdit=!1)}),e.EFF(2,"Cancel"),e.k0s(),e.j41(3,"button",4),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.confirmSave())}),e.EFF(4),e.k0s()()}if(2&d){const o=e.XpG();e.R7$(4),e.JRh("edit"===o.mode?"Update":"Save")}}let I=(()=>{class d{constructor(o){this.svc=o,this.rows=[],this.search="",this.showDialog=!1,this.selected=null,this.status=null,this.fromDate=null,this.toDate=null,this.portfolio=null,this.showEdit=!1,this.mode="add",this.form={},this.pendingDeleteId=null,this.showConfirmDelete=!1,this.columnDefs=[{field:"instruction_id",headerName:"Instruction ID",width:160},{field:"msg_uid",headerName:"Message UID",width:200},{field:"instruction_status",headerName:"Status",width:140},{field:"portfolio_code",headerName:"Portfolio",width:140},{field:"exposure_currency",headerName:"Currency",width:100},{field:"instruction_date",headerName:"Instruction Date",width:140},{field:"value_date",headerName:"Value Date",width:120},{field:"allocated_notional",headerName:"Allocated",width:140,type:"numericColumn"},{field:"not_allocated_notional",headerName:"Not Allocated",width:150,type:"numericColumn"},{field:"response_notional",headerName:"Response Notional",width:160,type:"numericColumn"},{field:"hedging_state_snapshot",headerName:"Hedge State",width:140},{field:"buffer_pct_snapshot",headerName:"Buffer %",width:110},{field:"order_id",headerName:"Order ID",width:140},{field:"sub_order_id",headerName:"Sub Order",width:140},{field:"failure_reason",headerName:"Failure Reason",flex:1},{headerName:"Actions",width:100,pinned:"right",cellRenderer:s=>{const t=document.createElement("button");return t.className="text-gray-500 hover:text-blue-600 p-1",t.title="View Details",t.innerHTML='<i class="pi pi-eye"></i>',t.addEventListener("click",()=>s.context.componentParent.viewRow(s.data)),t}}],this.defaultColDef={resizable:!0,sortable:!0,filter:"agSetColumnFilter",minWidth:100},this.gridOptions={pagination:!0,paginationPageSize:25,animateRows:!0,context:{componentParent:this}}}ngOnInit(){this.load(),this.svc.subscribeRealtime(()=>this.load())}ngOnDestroy(){}load(){var o=this;return(0,a.A)(function*(){o.rows=yield o.svc.list({search:o.search||void 0,status:o.status||void 0,fromDate:o.fromDate||void 0,toDate:o.toDate||void 0,portfolio:o.portfolio||void 0}),setTimeout(()=>o.gridApi?.sizeColumnsToFit(),50)})()}onGridReady(o){this.gridApi=o.api,o.api.sizeColumnsToFit()}viewRow(o){this.selected=o,this.showDialog=!0}onResize(){setTimeout(()=>this.gridApi?.sizeColumnsToFit(),100)}openAdd(){this.mode="add",this.form={instruction_status:"Pending"},this.showEdit=!0}editRow(o){this.mode="edit",this.form={...o},this.showEdit=!0}confirmSave(){var o=this;return(0,a.A)(function*(){"edit"===o.mode&&o.form.instruction_id?yield o.svc.updateById(o.form.instruction_id,o.form):yield o.svc.add(o.form),o.showEdit=!1,o.mode="add",o.form={},yield o.load()})()}deleteRow(o){this.pendingDeleteId=o.instruction_id||null,this.showConfirmDelete=!0}confirmDelete(){var o=this;return(0,a.A)(function*(){o.pendingDeleteId&&(yield o.svc.deleteById(o.pendingDeleteId),o.showConfirmDelete=!1,o.pendingDeleteId=null,yield o.load())})()}static{this.\u0275fac=function(s){return new(s||d)(e.rXU(v))}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["app-operations-hedge-instructions"]],hostBindings:function(s,t){1&s&&e.bIt("resize",function(){return t.onResize()},!1,e.tSv)},standalone:!0,features:[e.aNF],decls:197,vars:52,consts:[[1,"p-6","h-full","flex","flex-col"],[1,"mb-6","flex","items-center","justify-between"],[1,"text-xl","font-semibold","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"btn","btn-primary",3,"click"],[1,"pi","pi-plus"],[1,"filter-bar"],[1,"filter-row","w-full"],[1,"flex","items-center","space-x-2"],[1,"filter-label"],["placeholder","msg_uid, instruction_id, status, portfolio...",1,"filter-input","w-72",3,"ngModelChange","ngModel"],[1,"filter-input","w-48",3,"ngModelChange","ngModel"],[3,"ngValue"],["type","date",1,"filter-input",3,"ngModelChange","ngModel"],["placeholder","Code",1,"filter-input","w-48",3,"ngModelChange","ngModel"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200",2,"height","600px"],[1,"ag-theme-alpine","w-full",2,"width","100%","height","100%",3,"gridReady","columnDefs","rowData","defaultColDef","gridOptions"],["header","Instruction Details","styleClass","entity-dialog entity-dialog-full",3,"visibleChange","visible","modal"],["class","space-y-4 p-2",4,"ngIf"],["pTemplate","footer"],["styleClass","entity-dialog entity-dialog-full",3,"visibleChange","header","visible","modal","closable"],[1,"space-y-6","p-2"],[1,"rounded-lg","border","border-gray-200","p-4","bg-white"],[1,"grid","grid-cols-12","gap-4"],[1,"col-span-12","md:col-span-3","flex","items-center"],[1,"text-sm","font-semibold","text-gray-700"],[1,"col-span-12","md:col-span-9","grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"field"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["name","instruction_id",1,"filter-input","w-full",3,"ngModelChange","ngModel","readonly"],["name","msg_uid",1,"filter-input","w-full",3,"ngModelChange","ngModel"],["name","instruction_status",1,"filter-input","w-full",3,"ngModelChange","ngModel"],["name","portfolio_code",1,"filter-input","w-full",3,"ngModelChange","ngModel"],["type","date","name","instruction_date",1,"filter-input","w-full",3,"ngModelChange","ngModel"],["type","date","name","value_date",1,"filter-input","w-full",3,"ngModelChange","ngModel"],["type","number","name","hedge_amount_order",1,"filter-input","w-full",3,"ngModelChange","ngModel"],["type","number","name","allocated_notional",1,"filter-input","w-full",3,"ngModelChange","ngModel"],["type","number","name","not_allocated_notional",1,"filter-input","w-full",3,"ngModelChange","ngModel"],["type","number","name","response_notional",1,"filter-input","w-full",3,"ngModelChange","ngModel"],["type","number","name","buffer_pct_snapshot",1,"filter-input","w-full",3,"ngModelChange","ngModel"],["name","hedging_state_snapshot",1,"filter-input","w-full",3,"ngModelChange","ngModel"],["name","car_exemption_snapshot",1,"filter-input","w-full",3,"ngModelChange","ngModel"],["value","Y"],["value","N"],["name","instruction_type",1,"filter-input","w-full",3,"ngModelChange","ngModel"],["name","exposure_currency",1,"filter-input","w-full",3,"ngModelChange","ngModel"],["name","order_id",1,"filter-input","w-full",3,"ngModelChange","ngModel"],["name","sub_order_id",1,"filter-input","w-full",3,"ngModelChange","ngModel"],["name","previous_order_id",1,"filter-input","w-full",3,"ngModelChange","ngModel"],[1,"field","md:col-span-2"],["name","hedge_method",1,"filter-input","w-full",3,"ngModelChange","ngModel"],["name","hedging_instrument_hint",1,"filter-input","w-full",3,"ngModelChange","ngModel"],["name","tenor_or_maturity",1,"filter-input","w-full",3,"ngModelChange","ngModel"],["name","framework_id_snapshot",1,"filter-input","w-full",3,"ngModelChange","ngModel"],["name","request_id",1,"filter-input","w-full",3,"ngModelChange","ngModel"],["name","external_trade_id",1,"filter-input","w-full",3,"ngModelChange","ngModel"],[1,"col-span-12","md:col-span-9","grid","grid-cols-1","gap-3"],["rows","2","name","failure_reason",1,"filter-input","w-full",3,"ngModelChange","ngModel"],["rows","2","name","instruction_fingerprint",1,"filter-input","w-full",3,"ngModelChange","ngModel"],["rows","3","name","result",1,"filter-input","w-full",3,"ngModelChange","ngModel"],[1,"space-y-4","p-2"],[1,"col-span-12","md:col-span-3"],[1,"col-span-12","md:col-span-9","grid","grid-cols-1","md:grid-cols-2","gap-3","text-sm"],[1,"text-gray-500"],[1,"font-medium"],[1,"font-mono"],[1,"md:col-span-2"],[1,"col-span-12","md:col-span-9","grid","grid-cols-1","gap-3","text-sm"],[1,"bg-gray-50","border","rounded","p-3","whitespace-pre-wrap"],[1,"flex","justify-end","space-x-3","pt-4","border-t","border-gray-200"],[1,"btn","btn-secondary",3,"click"]],template:function(s,t){1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),e.EFF(4,"Hedge Instructions"),e.k0s(),e.j41(5,"div",3),e.EFF(6,"Live from hedge_instructions (Supabase)"),e.k0s()(),e.j41(7,"button",4),e.bIt("click",function(){return t.openAdd()}),e.nrm(8,"i",5),e.j41(9,"span"),e.EFF(10,"Add Instruction"),e.k0s()()(),e.j41(11,"div",6)(12,"div",7)(13,"div",8)(14,"label",9),e.EFF(15,"Search:"),e.k0s(),e.j41(16,"input",10),e.mxI("ngModelChange",function(n){return e.DH7(t.search,n)||(t.search=n),n}),e.bIt("ngModelChange",function(){return t.load()}),e.k0s()(),e.j41(17,"div",8)(18,"label",9),e.EFF(19,"Status:"),e.k0s(),e.j41(20,"select",11),e.mxI("ngModelChange",function(n){return e.DH7(t.status,n)||(t.status=n),n}),e.bIt("ngModelChange",function(){return t.load()}),e.j41(21,"option",12),e.EFF(22,"All"),e.k0s(),e.j41(23,"option"),e.EFF(24,"Pending"),e.k0s(),e.j41(25,"option"),e.EFF(26,"Completed"),e.k0s(),e.j41(27,"option"),e.EFF(28,"Failed"),e.k0s(),e.j41(29,"option"),e.EFF(30,"Cancelled"),e.k0s()()(),e.j41(31,"div",8)(32,"label",9),e.EFF(33,"From:"),e.k0s(),e.j41(34,"input",13),e.mxI("ngModelChange",function(n){return e.DH7(t.fromDate,n)||(t.fromDate=n),n}),e.bIt("ngModelChange",function(){return t.load()}),e.k0s()(),e.j41(35,"div",8)(36,"label",9),e.EFF(37,"To:"),e.k0s(),e.j41(38,"input",13),e.mxI("ngModelChange",function(n){return e.DH7(t.toDate,n)||(t.toDate=n),n}),e.bIt("ngModelChange",function(){return t.load()}),e.k0s()(),e.j41(39,"div",8)(40,"label",9),e.EFF(41,"Portfolio:"),e.k0s(),e.j41(42,"input",14),e.mxI("ngModelChange",function(n){return e.DH7(t.portfolio,n)||(t.portfolio=n),n}),e.bIt("ngModelChange",function(){return t.load()}),e.k0s()()()(),e.j41(43,"div",15)(44,"ag-grid-angular",16),e.bIt("gridReady",function(n){return t.onGridReady(n)}),e.k0s()(),e.j41(45,"p-dialog",17),e.mxI("visibleChange",function(n){return e.DH7(t.showDialog,n)||(t.showDialog=n),n}),e.DNE(46,M,191,32,"div",18)(47,R,3,0,"ng-template",19),e.k0s(),e.j41(48,"p-dialog",20),e.mxI("visibleChange",function(n){return e.DH7(t.showEdit,n)||(t.showEdit=n),n}),e.j41(49,"form",21)(50,"div",22)(51,"div",23)(52,"div",24)(53,"div",25),e.EFF(54,"Basic Info"),e.k0s()(),e.j41(55,"div",26)(56,"div",27)(57,"label",28),e.EFF(58,"Instruction ID"),e.k0s(),e.j41(59,"input",29),e.mxI("ngModelChange",function(n){return e.DH7(t.form.instruction_id,n)||(t.form.instruction_id=n),n}),e.k0s()(),e.j41(60,"div",27)(61,"label",28),e.EFF(62,"Message UID"),e.k0s(),e.j41(63,"input",30),e.mxI("ngModelChange",function(n){return e.DH7(t.form.msg_uid,n)||(t.form.msg_uid=n),n}),e.k0s()(),e.j41(64,"div",27)(65,"label",28),e.EFF(66,"Status"),e.k0s(),e.j41(67,"select",31),e.mxI("ngModelChange",function(n){return e.DH7(t.form.instruction_status,n)||(t.form.instruction_status=n),n}),e.j41(68,"option"),e.EFF(69,"Pending"),e.k0s(),e.j41(70,"option"),e.EFF(71,"Completed"),e.k0s(),e.j41(72,"option"),e.EFF(73,"Failed"),e.k0s(),e.j41(74,"option"),e.EFF(75,"Cancelled"),e.k0s()()(),e.j41(76,"div",27)(77,"label",28),e.EFF(78,"Portfolio"),e.k0s(),e.j41(79,"input",32),e.mxI("ngModelChange",function(n){return e.DH7(t.form.portfolio_code,n)||(t.form.portfolio_code=n),n}),e.k0s()(),e.j41(80,"div",27)(81,"label",28),e.EFF(82,"Instruction Date"),e.k0s(),e.j41(83,"input",33),e.mxI("ngModelChange",function(n){return e.DH7(t.form.instruction_date,n)||(t.form.instruction_date=n),n}),e.k0s()(),e.j41(84,"div",27)(85,"label",28),e.EFF(86,"Value Date"),e.k0s(),e.j41(87,"input",34),e.mxI("ngModelChange",function(n){return e.DH7(t.form.value_date,n)||(t.form.value_date=n),n}),e.k0s()()()()(),e.j41(88,"div",22)(89,"div",23)(90,"div",24)(91,"div",25),e.EFF(92,"Amounts & Snapshot"),e.k0s()(),e.j41(93,"div",26)(94,"div",27)(95,"label",28),e.EFF(96,"Hedge Amount Order"),e.k0s(),e.j41(97,"input",35),e.mxI("ngModelChange",function(n){return e.DH7(t.form.hedge_amount_order,n)||(t.form.hedge_amount_order=n),n}),e.k0s()(),e.j41(98,"div",27)(99,"label",28),e.EFF(100,"Allocated Notional"),e.k0s(),e.j41(101,"input",36),e.mxI("ngModelChange",function(n){return e.DH7(t.form.allocated_notional,n)||(t.form.allocated_notional=n),n}),e.k0s()(),e.j41(102,"div",27)(103,"label",28),e.EFF(104,"Not Allocated Notional"),e.k0s(),e.j41(105,"input",37),e.mxI("ngModelChange",function(n){return e.DH7(t.form.not_allocated_notional,n)||(t.form.not_allocated_notional=n),n}),e.k0s()(),e.j41(106,"div",27)(107,"label",28),e.EFF(108,"Response Notional"),e.k0s(),e.j41(109,"input",38),e.mxI("ngModelChange",function(n){return e.DH7(t.form.response_notional,n)||(t.form.response_notional=n),n}),e.k0s()(),e.j41(110,"div",27)(111,"label",28),e.EFF(112,"Buffer % Snapshot"),e.k0s(),e.j41(113,"input",39),e.mxI("ngModelChange",function(n){return e.DH7(t.form.buffer_pct_snapshot,n)||(t.form.buffer_pct_snapshot=n),n}),e.k0s()(),e.j41(114,"div",27)(115,"label",28),e.EFF(116,"Hedge State Snapshot"),e.k0s(),e.j41(117,"input",40),e.mxI("ngModelChange",function(n){return e.DH7(t.form.hedging_state_snapshot,n)||(t.form.hedging_state_snapshot=n),n}),e.k0s()(),e.j41(118,"div",27)(119,"label",28),e.EFF(120,"CAR Exemption"),e.k0s(),e.j41(121,"select",41),e.mxI("ngModelChange",function(n){return e.DH7(t.form.car_exemption_snapshot,n)||(t.form.car_exemption_snapshot=n),n}),e.j41(122,"option",12),e.EFF(123,"--"),e.k0s(),e.j41(124,"option",42),e.EFF(125,"Y"),e.k0s(),e.j41(126,"option",43),e.EFF(127,"N"),e.k0s()()()()()(),e.j41(128,"div",22)(129,"div",23)(130,"div",24)(131,"div",25),e.EFF(132,"Meta"),e.k0s()(),e.j41(133,"div",26)(134,"div",27)(135,"label",28),e.EFF(136,"Instruction Type"),e.k0s(),e.j41(137,"input",44),e.mxI("ngModelChange",function(n){return e.DH7(t.form.instruction_type,n)||(t.form.instruction_type=n),n}),e.k0s()(),e.j41(138,"div",27)(139,"label",28),e.EFF(140,"Exposure Currency"),e.k0s(),e.j41(141,"input",45),e.mxI("ngModelChange",function(n){return e.DH7(t.form.exposure_currency,n)||(t.form.exposure_currency=n),n}),e.k0s()(),e.j41(142,"div",27)(143,"label",28),e.EFF(144,"Order ID"),e.k0s(),e.j41(145,"input",46),e.mxI("ngModelChange",function(n){return e.DH7(t.form.order_id,n)||(t.form.order_id=n),n}),e.k0s()(),e.j41(146,"div",27)(147,"label",28),e.EFF(148,"Sub Order ID"),e.k0s(),e.j41(149,"input",47),e.mxI("ngModelChange",function(n){return e.DH7(t.form.sub_order_id,n)||(t.form.sub_order_id=n),n}),e.k0s()(),e.j41(150,"div",27)(151,"label",28),e.EFF(152,"Previous Order ID"),e.k0s(),e.j41(153,"input",48),e.mxI("ngModelChange",function(n){return e.DH7(t.form.previous_order_id,n)||(t.form.previous_order_id=n),n}),e.k0s()(),e.j41(154,"div",49)(155,"label",28),e.EFF(156,"Hedge Method"),e.k0s(),e.j41(157,"input",50),e.mxI("ngModelChange",function(n){return e.DH7(t.form.hedge_method,n)||(t.form.hedge_method=n),n}),e.k0s()(),e.j41(158,"div",49)(159,"label",28),e.EFF(160,"Hedging Instrument Hint"),e.k0s(),e.j41(161,"input",51),e.mxI("ngModelChange",function(n){return e.DH7(t.form.hedging_instrument_hint,n)||(t.form.hedging_instrument_hint=n),n}),e.k0s()(),e.j41(162,"div",49)(163,"label",28),e.EFF(164,"Tenor / Maturity"),e.k0s(),e.j41(165,"input",52),e.mxI("ngModelChange",function(n){return e.DH7(t.form.tenor_or_maturity,n)||(t.form.tenor_or_maturity=n),n}),e.k0s()(),e.j41(166,"div",49)(167,"label",28),e.EFF(168,"Framework ID Snapshot"),e.k0s(),e.j41(169,"input",53),e.mxI("ngModelChange",function(n){return e.DH7(t.form.framework_id_snapshot,n)||(t.form.framework_id_snapshot=n),n}),e.k0s()(),e.j41(170,"div",49)(171,"label",28),e.EFF(172,"Request ID"),e.k0s(),e.j41(173,"input",54),e.mxI("ngModelChange",function(n){return e.DH7(t.form.request_id,n)||(t.form.request_id=n),n}),e.k0s()(),e.j41(174,"div",49)(175,"label",28),e.EFF(176,"External Trade ID"),e.k0s(),e.j41(177,"input",55),e.mxI("ngModelChange",function(n){return e.DH7(t.form.external_trade_id,n)||(t.form.external_trade_id=n),n}),e.k0s()()()()(),e.j41(178,"div",22)(179,"div",23)(180,"div",24)(181,"div",25),e.EFF(182,"Large Text"),e.k0s()(),e.j41(183,"div",56)(184,"div")(185,"label",28),e.EFF(186,"Failure Reason"),e.k0s(),e.j41(187,"textarea",57),e.mxI("ngModelChange",function(n){return e.DH7(t.form.failure_reason,n)||(t.form.failure_reason=n),n}),e.k0s()(),e.j41(188,"div")(189,"label",28),e.EFF(190,"Instruction Fingerprint"),e.k0s(),e.j41(191,"textarea",58),e.mxI("ngModelChange",function(n){return e.DH7(t.form.instruction_fingerprint,n)||(t.form.instruction_fingerprint=n),n}),e.k0s()(),e.j41(192,"div")(193,"label",28),e.EFF(194,"Result"),e.k0s(),e.j41(195,"textarea",59),e.mxI("ngModelChange",function(n){return e.DH7(t.form.result,n)||(t.form.result=n),n}),e.k0s()()()()()(),e.DNE(196,j,5,1,"ng-template",19),e.k0s()()),2&s&&(e.R7$(16),e.R50("ngModel",t.search),e.R7$(4),e.R50("ngModel",t.status),e.R7$(),e.Y8G("ngValue",null),e.R7$(13),e.R50("ngModel",t.fromDate),e.R7$(4),e.R50("ngModel",t.toDate),e.R7$(4),e.R50("ngModel",t.portfolio),e.R7$(2),e.Y8G("columnDefs",t.columnDefs)("rowData",t.rows)("defaultColDef",t.defaultColDef)("gridOptions",t.gridOptions),e.R7$(),e.Aen(e.lJ4(50,f)),e.R50("visible",t.showDialog),e.Y8G("modal",!0),e.R7$(),e.Y8G("ngIf",t.selected),e.R7$(2),e.Aen(e.lJ4(51,f)),e.FS9("header","edit"===t.mode?"Edit Instruction":"Add Instruction"),e.R50("visible",t.showEdit),e.Y8G("modal",!0)("closable",!0),e.R7$(11),e.R50("ngModel",t.form.instruction_id),e.Y8G("readonly","edit"===t.mode),e.R7$(4),e.R50("ngModel",t.form.msg_uid),e.R7$(4),e.R50("ngModel",t.form.instruction_status),e.R7$(12),e.R50("ngModel",t.form.portfolio_code),e.R7$(4),e.R50("ngModel",t.form.instruction_date),e.R7$(4),e.R50("ngModel",t.form.value_date),e.R7$(10),e.R50("ngModel",t.form.hedge_amount_order),e.R7$(4),e.R50("ngModel",t.form.allocated_notional),e.R7$(4),e.R50("ngModel",t.form.not_allocated_notional),e.R7$(4),e.R50("ngModel",t.form.response_notional),e.R7$(4),e.R50("ngModel",t.form.buffer_pct_snapshot),e.R7$(4),e.R50("ngModel",t.form.hedging_state_snapshot),e.R7$(4),e.R50("ngModel",t.form.car_exemption_snapshot),e.R7$(),e.Y8G("ngValue",null),e.R7$(15),e.R50("ngModel",t.form.instruction_type),e.R7$(4),e.R50("ngModel",t.form.exposure_currency),e.R7$(4),e.R50("ngModel",t.form.order_id),e.R7$(4),e.R50("ngModel",t.form.sub_order_id),e.R7$(4),e.R50("ngModel",t.form.previous_order_id),e.R7$(4),e.R50("ngModel",t.form.hedge_method),e.R7$(4),e.R50("ngModel",t.form.hedging_instrument_hint),e.R7$(4),e.R50("ngModel",t.form.tenor_or_maturity),e.R7$(4),e.R50("ngModel",t.form.framework_id_snapshot),e.R7$(4),e.R50("ngModel",t.form.request_id),e.R7$(4),e.R50("ngModel",t.form.external_trade_id),e.R7$(10),e.R50("ngModel",t.form.failure_reason),e.R7$(4),e.R50("ngModel",t.form.instruction_fingerprint),e.R7$(4),e.R50("ngModel",t.form.result))},dependencies:[m.MD,m.bT,l.YN,l.qT,l.xH,l.y7,l.me,l.Q0,l.wz,l.BC,l.cb,l.vS,l.cV,F.xs,p.P,p.l,k.Ei,C.tm],encapsulation:2})}}return d})()}}]);